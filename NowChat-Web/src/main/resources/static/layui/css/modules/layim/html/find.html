<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>layui</title>
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link rel="stylesheet" href="../../../layui.css" media="all">
    <!-- 注意：如果你直接复制所有代码到本地，上述css路径需要改成你本地的 -->
</head>
<body>


<form class="layui-form" action="">
    <div class="layui-inline">
        <label class="layui-form-label">搜索选择框</label>
        <div class="layui-input-inline" style="width: 100px">
            <select id="type">
                <option value="">请选择添加类型</option>
                <option value="0" selected>好友</option>
                <option value="1">群组</option>
            </select>
        </div>
        <div class="layui-input-inline" style="width: 250px">
            <input type="text" name="loginName" id="loginName" required lay-verify="required" placeholder="用户名"
                   autocomplete="off" class="layui-input">
        </div>
        <div class="layui-input-inline">
            <input type="button" class="layui-btn" lay-submit lay-filter="searchSubmit" value="搜索">
        </div>
        <ul class="site-doc-icon site-doc-anim">
            <li>
                <div class="layui-anim" data-anim="layui-anim-up">从最底部往上滑入</div>
                <div class="code">layui-anim-up</div>
            </li>
            <li>
                <div class="layui-anim" data-anim="layui-anim-upbit">微微往上滑入</div>
                <div class="code">layui-anim-upbit</div>
            </li>
            <li>
                <div class="layui-anim" data-anim="layui-anim-scale">平滑放大</div>
                <div class="code">layui-anim-scale</div>
            </li>
            <li>
                <div class="layui-anim" data-anim="layui-anim-scaleSpring">弹簧式放大</div>
                <div class="code">layui-anim-scaleSpring</div>
            </li>
        </ul>
    </div>

</form>


<script src="../../../../layui.js" charset="utf-8"></script>
<script src="../../../../../js/jquery-3.4.1.js" charset="utf-8"></script>
<!-- 注意：如果你直接复制所有代码到本地，上述js路径需要改成你本地的 -->
<script>
    var url = '/security/findFriendByLoginName';
    $("#type").change(function () {
        if ($("#type").val() == 1) {
            url = "/security/findGroupByName";
        } else {
            url = '/security/findFriendByLoginName';
        }
    });
    layui.use(['form', 'layedit', 'laydate', 'jquery'], function () {
            layer = layui.layer
            , form = layui.form
            , $ = layui.jquery;



        //监听提交
        form.on('submit(searchSubmit)', function (data) {
            $.ajax({
                url: url,
                data: {
                    name: $("#loginName").val()
                },
                type: "Post",
                dataType: "json",
                success: function (data) {
                    $.each(data.data, function (index, item) {

                    });
                },
                error: function (data) {
                }

            });
            return false;
        });
    });
</script>

</body>
</html>