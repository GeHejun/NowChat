1.离线消息存储
2.线程安全
3.客户端sdk
4.集群设计
  4.1 共享netty的channel,存redis  
      因为channel和线程绑定,线程基于单台服务器,所以此方案可行性有待验证
  4.2 网关实现
      根据客户端的ip或者mac地址转发到固定的服务器
  4.3 channel 共享无非是要那个通道都可以发送消息向客户端
      MQ广播+ 多Netty,Netty收到MQ消息后,如果本地存储有该channel,就发送，没有存储就忽略，完美解决，不需要做channel的共享
  4.4 用netty做个中心服务器,其它netty子服务加个socket客户端连接到中心服务，子服务把消息发送到中心服务器，中心服务器再做转发
      本系统采用第四种设计方案
5.如果是登录操作那么需要路由算法或者Paxos算法来选举一个节点
    一致性hash算法
    目前应该是通过机器码决定的